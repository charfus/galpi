(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){},199:function(e,t,a){e.exports=a(380)},224:function(e,t,a){},225:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=(a(120),a(3)),u=a.n(l),o=a(8),i=a(9),m=a(5),p=function(e){return{type:"error_handle",error:e}},f=a(15),d=a.n(f);function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/user",t);case 2:return a=e.sent,e.abrupt("return",{type:"register_user",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",{type:"login_user",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/logout");case 2:return t=e.sent,e.abrupt("return",{type:"logout_user",payload:t.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/user/".concat(t));case 2:return a=e.sent,e.abrupt("return",{type:"get_user",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/dashboard");case 2:return t=e.sent,e.abrupt("return",{type:"get_dashboard",payload:t.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/auth");case 2:return t=e.sent,e.abrupt("return",{type:"auth",payload:t.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(224);var S=function(e){return r.a.createElement("div",{id:"paper"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{id:"pattern"},r.a.createElement("h1",{className:"card-title"},e.title),r.a.createElement("div",{id:"content"},e.children))))},C=function(e){var t=Object(i.b)(),a=Object(n.useState)(),c=Object(m.a)(a,2),s=c[0],l=c[1],f=Object(n.useState)(),d=Object(m.a)(f,2),b=d[0],v=d[1];return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(u.a.mark((function e(){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(k());case 3:a=e.sent,n=a.payload,r=n.user,c=n.posts,l(r),v(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(p(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(r.a.Fragment,null,s&&b?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:"".concat(s.username,"\ub2d8, \uc548\ub155\ud558\uc138\uc694 !")},r.a.createElement("br",null),r.a.createElement("p",null,"\uc774\ub984: ",s.name),r.a.createElement("p",null,"\uc774\uba54\uc77c: ",s.email),r.a.createElement("p",null,"\uac08\ud53c: ",b.length," \uac1c"),r.a.createElement("p",null,"\uacc4\uc815 \uc0dd\uc131\uc77c: ",s.createdAt.slice(0,10)))):r.a.createElement("p",null," \uc720\uc800 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4. "))},_=a(36);function F(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-type":"multipart/form-data"}},e.next=3,d.a.post("/api/post/img",t,a);case 3:return n=e.sent,e.abrupt("return",{type:"img_post",payload:n.data});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/post",t);case 2:return a=e.sent,e.abrupt("return",{type:"content_post",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,d.a.get("/api/post?username=".concat(a,"&page=").concat(t,"&limit=10"));case 3:return n=e.sent,e.abrupt("return",{type:"get_posts",payload:n.data});case 5:return e.next=7,d.a.get("/api/post?page=".concat(t,"&limit=10"));case 7:return r=e.sent,e.abrupt("return",{type:"get_posts",payload:r.data});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/post/".concat(t));case 2:return a=e.sent,e.abrupt("return",{type:"get_a_post",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/post/".concat(t));case 2:return a=e.sent,e.abrupt("return",{type:"delete_post",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=e.username,a=void 0===t?null:t,c=Object(i.b)(),s=Object(n.useState)([]),l=Object(m.a)(s,2),f=l[0],d=l[1],b=Object(n.useState)(!1),v=Object(m.a)(b,2),E=v[0],g=v[1],h=Object(n.useState)(null),O=Object(m.a)(h,2),j=O[0],y=O[1],k=Object(n.useRef)(1),x=Object(n.useRef)(0),w=Object(n.useRef)(new IntersectionObserver((function(e){var t=e[0].boundingClientRect.y;x.current>t&&(k.current++,S(k.current)),x.current=t}),{root:null,rootMargin:"0px",threshold:1})),N=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,c(z(t,a));case 4:return n=e.sent,r=n.payload,s=r.posts,l=r.message,g(!1),e.abrupt("return",{posts:s,message:l});case 10:e.prev=10,e.t0=e.catch(1),c(p(e.t0.response)),g(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[a,c]),S=Object(n.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:a=e.sent,n=a.posts,"ok"===a.message&&d((function(e){return[].concat(Object(_.a)(e),Object(_.a)(n.values()))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[N]);return Object(n.useEffect)((function(){S(k.current);var e=j,t=w.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[S,j]),r.a.createElement("div",{className:"infinite-scroll-wrapper"},f?r.a.createElement("ul",{className:"posts-list"},f.map((function(t,a){return e.render(t,a)}))):r.a.createElement("p",null," \ub9c8\uc9c0\ub9c9 \ud3ec\uc2a4\ud2b8 \uc785\ub2c8\ub2e4 ! "),E&&r.a.createElement("div",null,"Loading..."),r.a.createElement("div",{ref:y}))},G=a(12);function X(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/comment/".concat(t));case 2:return a=e.sent,e.abrupt("return",{type:"get_comment",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/comment/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",{type:"post_comment",payload:n.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/comment/".concat(t));case 2:return a=e.sent,e.abrupt("return",{type:"delete_comment",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){var t=e.uuid,a=e.setComments,c=e.comments,s=Object(i.b)(),l=Object(n.useState)(""),f=Object(m.a)(l,2),d=f[0],b=f[1],v=function(){var e=Object(o.a)(u.a.mark((function e(n){var r,l,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,s(V(t,{comment:d}));case 4:r=e.sent,l=r.payload,o=l.newComment,"ok"===l.message&&a([].concat(Object(_.a)(c),[o])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s(p(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"comment-form"},r.a.createElement("input",{placeholder:"\ub313\uae00 \ub2ec\uae30",value:d,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{onClick:v},"\u2191"))},Y=a(387),Z=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.user.userId})),c=e.uuid,s=e.comments,l=e.setComments,f=Object(n.useState)(!1),d=Object(m.a)(f,2),b=d[0],v=d[1],E=function(){var e=Object(o.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.parentElement,e.prev=2,e.next=5,t(H(n.id));case 5:alert("\ub313\uae00\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t(p(e.t0.response));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,t(X(c));case 4:a=e.sent,n=a.payload,r=n.comments,"ok"===n.message&&(l(r),v(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(p(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[l,t,c]),r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(Y.a,null),s?r.a.createElement("ul",{className:"comments-list"},s.map((function(e,t){return r.a.createElement("li",{key:t,id:e._id},r.a.createElement("strong",null,e.user.username)," ".concat(e.comment),a===e.user._id&&r.a.createElement("button",{onClick:E},"\u2a09"))}))):r.a.createElement("span",null,"\uccab \ub313\uae00\uc744 \ub2ec\uc544\ubcf4\uc138\uc694"))},$=a(388),Q=a(389);function W(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/like/".concat(t,"/like"));case 2:return a=e.sent,e.abrupt("return",{type:"post_like",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/like/".concat(t,"/unlike"));case 2:return a=e.sent,e.abrupt("return",{type:"post_unlike",payload:a.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e){var t=e.likes,a=e.uuid,c=Object(i.c)((function(e){return e.user})),s=Object(i.b)(),l=Object(n.useState)(Object(_.a)(t)),f=Object(m.a)(l,2),d=f[0],b=f[1],v=Object(n.useState)(!1),E=Object(m.a)(v,2),g=E[0],h=E[1],O=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s(W(a));case 4:b([].concat(Object(_.a)(d),[c.userId])),h(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(p(e.t0.response));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s(te(a));case 4:n=d.filter((function(e){return e!==c.userId})),b(Object(_.a)(n)),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s(p(e.t0.response));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t.includes(c.userId)&&h(!0)}),[t,c.userId]),r.a.createElement("div",{className:"likes"},g?r.a.createElement($.a,{key:"likes",onClick:j}):r.a.createElement(Q.a,{key:"notlikes",onClick:O}),r.a.createElement("span",null,d.length))},re=(a(225),a(391)),ce=a(392),se=a(393),le=a(390),ue=function(e){var t=e.uuid,a=Object(i.b)(),n=function(){var e=Object(o.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,a(A(t));case 4:alert("\ud3ec\uc2a4\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(p(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(le.a,{onClick:n})},oe=function(e){var t=e.index,a=e.posts,c=a.uuid,s=a.likes,l=a.content,u=a.url,o=a.user,p=o.username,f=Object(i.c)((function(e){return e.user.userId})),d=Object(n.useState)(!1),b=Object(m.a)(d,2),v=b[0],E=b[1],g=Object(n.useState)([]),h=Object(m.a)(g,2),O=h[0],j=h[1],y=function(e){return r.a.createElement("div",{onClick:function(){return E(!v)}},v?r.a.createElement(ce.a,{key:"comment"}):r.a.createElement(re.a,{key:"comment"}),r.a.createElement("span",null,"\ub313\uae00"))};return r.a.createElement("li",{key:"postcard-".concat(t,"-by").concat(p),className:"postcard"},r.a.createElement("h1",{className:"user"},r.a.createElement(G.b,{to:"/username/".concat(p)},p)),r.a.createElement("div",{className:"post"},r.a.createElement("img",{alt:"example",src:u})),r.a.createElement("p",{className:"content"},l),r.a.createElement("ul",{className:"features"},r.a.createElement("li",null,r.a.createElement(ne,{likes:s,uuid:c})),r.a.createElement("li",null,r.a.createElement(y,null)),r.a.createElement("li",null,r.a.createElement(G.b,{to:"/p/".concat(c)},r.a.createElement(se.a,{key:"link"}))),f===o._id&&r.a.createElement("li",null,r.a.createElement(ue,{uuid:c}))),v&&r.a.createElement(Z,{uuid:c,comments:O,setComments:j}),r.a.createElement(K,{uuid:c,comments:O,setComments:j}))},ie=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{render:function(e,t){return r.a.createElement(oe,{key:"post-".concat(t),posts:e,index:t})}}))},me=function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"intro wrapper"},r.a.createElement("h1",null,"\ub9d0\uc740 \uc81c\uc8fc\ub85c",r.a.createElement("br",null),r.a.createElement("span",null,"\uae00\uc740 ",r.a.createElement("strong",null,"\uac08\ud53c"),"\ub85c")),r.a.createElement("p",null,"\uc88b\uc544\ud558\ub294 \ubb38\uc7a5\ub4e4\uc744 \uc6d0\ud558\ub294 \uc774\ubbf8\uc9c0\uc5d0 \uc62e\uaca8 \ud3ec\uc2a4\ud305 \ud574\ubcf4\uc138\uc694 !"),r.a.createElement("button",null,r.a.createElement(G.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785")),r.a.createElement("button",null,r.a.createElement(G.b,{to:"/login"},"\ub85c\uadf8\uc778"))),r.a.createElement("span",{className:"bgr-img"}))},pe=a(81),fe=a(394),de=a(395),be=function(e){var t=Object(i.b)(),a=e.location,c=e.history,s=a.state,l=Object(n.useState)(""),f=Object(m.a)(l,2),d=f[0],b=f[1],v=Object(n.useState)({valid:"",message:"",ok:!1}),g=Object(m.a)(v,2),h=g[0],O=g[1],j=Object(n.useState)(""),y=Object(m.a)(j,2),k=y[0],x=y[1],w=Object(n.useState)({valid:"",message:"",ok:!1}),N=Object(m.a)(w,2),S=N[0],C=N[1],_=function(){var e=Object(o.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!h.ok||!S.ok){e.next=16;break}return e.prev=2,n={email:d,password:k},e.next=6,t(E(n));case 6:if(!s||!s.from){e.next=10;break}return e.abrupt("return",c.replace(s.from));case 10:return e.abrupt("return",c.replace("/home"));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t(p(e.t0.response));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form login"},r.a.createElement("h1",{className:"page-title"},"\ub85c\uadf8\uc778"),r.a.createElement("form",{onSubmit:_},r.a.createElement("div",{className:"form-control ".concat(h.valid)},r.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),r.a.createElement("input",{id:"email",type:"text",value:d,placeholder:"\uc608) galpi@galpi.com",min:"8",max:"254",onChange:function(e){var t=e.target.value.trim();b(t),""===t?O({valid:"error",message:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",ok:!1}):pe.validate(t)?O({valid:"",message:"",ok:!0}):O({valid:"error",message:"\uc774\uba54\uc77c\uc744 \uc54c\ub9de\uac8c \uc785\ub825\ud558\uc138\uc694",ok:!1})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,h.message)),r.a.createElement("div",{className:"form-control ".concat(S.valid)},r.a.createElement("label",{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638"),r.a.createElement("input",{id:"password",type:"password",value:k,onChange:function(e){var t=e.target.value.trim();x(t),C(""===t?{valid:"",message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",ok:!1}:{valid:"",message:"",ok:!0})}}),r.a.createElement("small",null,S.message)),r.a.createElement("input",{type:"submit",value:"\ub85c\uadf8\uc778",className:"submit-btn"})))},ve=function(e){var t=Object(n.useState)("none"),a=Object(m.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(200),u=Object(m.a)(l,2),o=u[0],i=u[1],p=Object(n.useState)(200),f=Object(m.a)(p,2),d=f[0],b=f[1],v=Object(n.useState)("grab"),E=Object(m.a)(v,2),g=E[0],h=E[1],O=Object(n.useState)(0),j=Object(m.a)(O,2),y=j[0],k=j[1],x=Object(n.useState)(0),w=Object(m.a)(x,2),N=w[0],S=w[1],C=Object(n.useState)("move"),_=Object(m.a)(C,2),F=_[0],D=_[1],I=Object(n.useState)(),R=Object(m.a)(I,2),z=R[0],U=R[1],L=Object(n.useState)(),T=Object(m.a)(L,2),A=T[0],B=T[1],M=e.url,G=e.color,X=e.opt,P=e.quote,V=e.fontcolor,q=e.fontsize,H=e.fonttype,J=e.fontlineheight,K=e.setQuote,Y=e.canvasRef,Z={backgroundColor:G,cursor:F},$={color:V,fontSize:"".concat(q,"px"),fontFamily:H,lineHeight:"".concat(J,"px"),resize:c,top:o,left:d,cursor:g},Q={objectPosition:"".concat(N,"px ").concat(y,"px")};return Object(n.useEffect)((function(){S(0),k(0)}),[M]),r.a.createElement("section",{className:"canvas-wrapper"},r.a.createElement("div",{id:"canvas",className:"canvas",ref:Y},X?r.a.createElement("div",{className:"canvas-bgr",style:Z},r.a.createElement("img",{src:M,alt:"background for quote lines",draggable:"true",onDragStart:function(e){!function(e,t,a){D("grabbing");var n=e.clientX;t(e.clientY),a(n)}(e,B,U)},onDragEnd:function(e){!function(e,t,a){D("move");var n=e.clientX-z,r=e.clientY-A;t(y+r),a(N+n)}(e,k,S)},style:Q})):r.a.createElement("div",{className:"canvas-bgr",style:Z}),r.a.createElement("textarea",{className:"quote-textarea",value:P,onChange:function(e){return K(e.target.value)},defaultValue:"\ub9c8\uc74c\uc5d0 \ub4dc\ub294 \uad6c\uc808\uc744 \uc785\ub825\ud558\uc138\uc694",style:$,draggable:"true",onFocus:function(){return s("both")},onBlur:function(){return s("none")},onDragStart:function(){h("grabbing")},onDragEnd:function(e){!function(e,t,a){h("grab");var n=e.target.parentElement.getBoundingClientRect(),r=e.clientX-n.x;t(e.clientY-n.y),a(r)}(e,i,b)}})))},Ee=a(385),ge=a(384),he=a(396),Oe=function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||Ee.b.error("JPG/PNG \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \ud558\uc138\uc694."),t},je=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1],l=e.url,u=e.setUrl,o=e.setOpt,i=r.a.createElement("div",null,c?r.a.createElement(Y.a,null):r.a.createElement(he.a,null),r.a.createElement("div",{style:{marginTop:8,fontSize:"0.75em"}},"\ubc30\uacbd \uc774\ubbf8\uc9c0"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"canvas-image",style:{display:"none"}},"\ubc30\uacbd \uc774\ubbf8\uc9c0"),r.a.createElement(ge.a,{name:"background-img",listType:"picture-card",showUploadList:!1,beforeUpload:Oe,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.onloadend=function(){t(a.result)},a.readAsDataURL(e)}(e.file.originFileObj,(function(e){u(e),o(!0),s(!1)})):s(!0)},customRequest:function(e){e.file;var t=e.onSuccess;setTimeout((function(){t("ok")}),0)},className:"preview-image"},l?r.a.createElement("img",{src:l,alt:"preview",style:{width:"100%",height:"100%"}}):i))},ye=a(91),ke=function(e){var t=e.setColor,a=e.color;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"canvas-color"},"\ubc30\uacbd\uc0c9"),r.a.createElement(ye.b,{color:a,onChange:function(e){t(e.hex)},className:"bgr-colorpicker"}))},xe=a(397),we=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1],l=e.setColor,u=e.color,o={color:u};return r.a.createElement("div",{className:"font"},r.a.createElement("label",{htmlFor:"font-color",style:{display:"none"}},"\uae00\uc528 \uc0c9\uc0c1"),r.a.createElement(xe.a,{className:"icon",onClick:function(){return s(!c)},style:o}),c&&r.a.createElement("div",{className:"sketch-picker"},r.a.createElement(ye.a,{color:u,onChange:function(e){l(e.hex)},triangle:"hide"})))},Ne=a(189),Se=a.n(Ne),Ce=a(398),_e=function(e){var t=e.setFontsize;return r.a.createElement("div",{className:"font"},r.a.createElement("label",{htmlFor:"font-size",style:{display:"none"}},"\uae00\uc528 \ud06c\uae30"),r.a.createElement(Ce.a,{className:"icon"}),r.a.createElement("input",{type:"range",id:"font-size",min:5,max:50,step:1,defaultValue:16,onChange:function(e){e.preventDefault();var a=e.target.value;t(a)},className:"slider"}))},Fe=a(399),De=function(e){var t=e.setFonttype,a=Object(n.useState)(0),c=Object(m.a)(a,2),s=c[0],l=c[1],u=['"Noto Serif KR", "Times New Roman","Georgia", "serif"','"UhBeeDoolDool", "Dotum", "Caflisch Script", "Adobe Poetica", "Sanvito", "Ex Ponto", "cursive" ','"Noto Sans KR", "Verdana", "Malgun Gothic", "sans-serif"'];return r.a.createElement("div",{className:"font"},r.a.createElement("label",{htmlFor:"font-type",style:{display:"none"}},"\uae00\uc528 \uc885\ub958"),r.a.createElement(Fe.a,{className:"icon",onClick:function(){if(t(u[s]),l(s+1),s===u.length-1)return l(0)}}))},Ie=a(400),Re=function(e){var t=e.setFontlineheight;return r.a.createElement("div",{className:"font"},r.a.createElement("label",{htmlFor:"font-lineheight",style:{display:"none"}},"\uc904 \uac04\uaca9"),r.a.createElement(Ie.a,{className:"icon"}),r.a.createElement("input",{type:"range",id:"font-lineheight",min:15,max:40,step:1,defaultValue:20,onChange:function(e){e.preventDefault(),t(e.target.value),console.log(e.target.value)},className:"slider"}))},ze=function(e){var t=Object(i.b)(),a=e.history,c=Object(n.useState)(),s=Object(m.a)(c,2),l=s[0],f=s[1],d=Object(n.useState)("#f1f2f6"),b=Object(m.a)(d,2),v=b[0],E=b[1],g=Object(n.useState)(16),h=Object(m.a)(g,2),O=h[0],j=h[1],y=Object(n.useState)("black"),k=Object(m.a)(y,2),x=k[0],w=k[1],N=Object(n.useState)('"Noto Serif KR", "Times New Roman","Georgia", "serif"'),S=Object(m.a)(N,2),C=S[0],_=S[1],D=Object(n.useState)(20),R=Object(m.a)(D,2),z=R[0],U=R[1],L=Object(n.useState)(!1),T=Object(m.a)(L,2),A=T[0],B=T[1],M=Object(n.useState)(),G=Object(m.a)(M,2),X=G[0],P=G[1],V=Object(n.useState)(),q=Object(m.a)(V,2),H=q[0],J=q[1],K=Object(n.useRef)(),Y=function(){var e=Object(o.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={content:H,url:n},e.prev=1,e.next=4,t(t(I(r)));case 4:alert("\uc5c5\ub85c\ub4dc \uc131\uacf5 !"),a.replace("/home"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(p(e.t0.response));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(u.a.mark((function e(a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a,(r=new FormData).append("img",n,"combined.png"),e.prev=3,e.next=6,t(F(r));case 6:c=e.sent,Y(c.payload.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t(p(e.t0.response));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return B(!0)}),[l]),Object(n.useEffect)((function(){return B(!1)}),[v]),r.a.createElement("div",{className:"posting"},r.a.createElement("h1",{className:"page-title"},"\uac08\ud53c \ub0a8\uae30\uae30"),r.a.createElement("div",{className:"canvas-background"},r.a.createElement("div",{className:"bgr-image"},r.a.createElement(je,{url:l,setUrl:f,setOpt:B,id:"canvas-image"})),r.a.createElement("div",{className:"bgr-color"},r.a.createElement(ke,{setColor:E,color:v,id:"canvas-color"})),r.a.createElement("div",{className:"canvas-font"},r.a.createElement(De,{setFonttype:_}),r.a.createElement(we,{setColor:w,color:x}),r.a.createElement(_e,{setFontsize:j}),r.a.createElement(Re,{setFontlineheight:U}))),r.a.createElement(ve,{url:l,color:v,opt:A,fontcolor:x,fontsize:O,fonttype:C,quote:X,setQuote:P,content:H,setContent:J,canvasRef:K,fontlineheight:z}),r.a.createElement("div",{className:"content"},r.a.createElement("label",{htmlFor:"content",style:{display:"none"}},"\ucf54\uba58\ud2b8"),r.a.createElement("textarea",{className:"content-textarea",name:"content",value:H,rows:"5",onChange:function(e){return J(e.target.value)},placeholder:"\uc791\uac00, \ucc45 \uc81c\ubaa9, \uac04\ub2e8\ud55c \uc18c\uac10 \ub4f1\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694"})),r.a.createElement("div",{className:"upload-btn"},r.a.createElement("button",{onClick:function(){var e=K.current;Se.a.toBlob(e).then((function(e){Z(e)}))}},"\uc5c5\ub85c\ub4dc")))},Ue=a(14),Le=function(e){var t=e.index,a=e.posts,n=a.uuid,c=a.url,s=a.user.username;return r.a.createElement("li",{key:"postthumbnail-".concat(t,"-by").concat(s),className:"post-thumbnail",onClick:function(e){return e.preventDefault(),r.a.createElement(Ue.a,{push:!0,to:"/p/".concat(n)})}},r.a.createElement("div",{className:"post"},r.a.createElement("img",{alt:"example",src:c})))},Te=function(){var e=Object(Ue.g)().username,t=Object(n.useState)(),a=Object(m.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),f=Object(m.a)(l,2),d=f[0],b=f[1],v=Object(i.b)(),E=Object(n.useCallback)(Object(o.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,v(j(e));case 4:a=t.sent,n=a.payload.user,s(n),b(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),v(p(t.t0.response)),b(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),[v,e]);return Object(n.useEffect)((function(){E()}),[E]),r.a.createElement("div",{className:"profile"},d&&"\uc720\uc800 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4",c?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{title:c.username},r.a.createElement("br",null),r.a.createElement("h2",null,"\uc774\ub984: ",c.name),r.a.createElement("p",null,"\uacc4\uc815 \uc0dd\uc131\uc77c: ",c.createdAt.slice(0,10))),r.a.createElement(M,{render:function(e,t){return r.a.createElement(Le,{key:"postthumbnail-".concat(t),posts:e,index:t})},username:c.username})):r.a.createElement("p",null," \ud574\ub2f9\ud558\ub294 \uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. "))},Ae=function(e){var t=Object(i.b)(),a=e.history,c=Object(n.useState)(""),s=Object(m.a)(c,2),l=s[0],f=s[1],d=Object(n.useState)({valid:"",message:"",ok:!1}),v=Object(m.a)(d,2),E=v[0],g=v[1],h=Object(n.useState)(""),O=Object(m.a)(h,2),j=O[0],y=O[1],k=Object(n.useState)({valid:"",message:"3 ~ 15\uae00\uc790 \uc774\uc0c1, \uc601\ubb38 \ubc0f \uc22b\uc790",ok:!1}),x=Object(m.a)(k,2),w=x[0],N=x[1],S=Object(n.useState)(""),C=Object(m.a)(S,2),_=C[0],F=C[1],D=Object(n.useState)({valid:"",message:"",ok:!1}),I=Object(m.a)(D,2),R=I[0],z=I[1],U=Object(n.useState)(""),L=Object(m.a)(U,2),T=L[0],A=L[1],B=Object(n.useState)({valid:"",message:"\uc601\uc5b4 \ub300\xb7\uc18c\ubb38\uc790\uc640 \uc22b\uc790 \ud3ec\ud568, 8\uae00\uc790 \uc774\uc0c1.",ok:!1}),M=Object(m.a)(B,2),G=M[0],X=M[1],P=Object(n.useState)(""),V=Object(m.a)(P,2),q=V[0],H=V[1],J=Object(n.useState)({valid:"",message:"",ok:!1}),K=Object(m.a)(J,2),Y=K[0],Z=K[1],$=function(){var e=Object(o.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(E.ok&&w.ok&&R.ok&&G.ok&&Y.ok)){e.next=8;break}return r={email:l,username:j,name:_,password:T,passwordConfirmation:q},e.next=5,t(b(r)).then((function(e){alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4."),a.replace("/login")})).catch((function(e){return t(p(e.response))}));case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",alert("\uc815\ud655\ud558\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"form register"},r.a.createElement("h1",{className:"page-title"},"\ud68c\uc6d0\uac00\uc785"),r.a.createElement("form",{onSubmit:$},r.a.createElement("div",{className:"form-control ".concat(E.valid)},r.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),r.a.createElement("input",{id:"email",type:"text",value:l,placeholder:"\uc608) galpi@galpi.com",onChange:function(e){var t=e.target.value.trim();f(t),""===t?g({valid:"error",message:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",ok:!1}):pe.validate(t)?g({valid:"success",message:"",ok:!0}):g({valid:"error",message:"\uc774\uba54\uc77c\uc744 \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud558\uc138\uc694",ok:!1})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,E.message)),r.a.createElement("div",{className:"form-control ".concat(w.valid)},r.a.createElement("label",{htmlFor:"username"},"\uc544\uc774\ub514(\uc601\ubb38)"),r.a.createElement("input",{id:"username",type:"text",maxLength:"128",title:"\ucd5c\uc18c 2\uae00\uc790 \uc774\uc0c1",value:j,onChange:function(e){var t=e.target.value.trim();y(t),""===t?N({valid:"error",message:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694",ok:!1}):/^(?=[a-zA-Z0-9._]{3,20}$)(?!.*[_.]{2})[^_.].*[^_.]$/.test(t)?N({valid:"success",message:"",ok:!0}):N({valid:"error",message:"3 ~ 15\uae00\uc790 \uc774\uc0c1, \uc601\ubb38 \ud639\uc740 \uc22b\uc790",ok:!1})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,w.message)),r.a.createElement("div",{className:"form-control ".concat(R.valid)},r.a.createElement("label",{htmlFor:"name"},"\uc774\ub984"),r.a.createElement("input",{id:"name",type:"text",value:_,onChange:function(e){var t=e.target.value.trim();F(t),z(""===t?{valid:"error",message:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694",ok:!1}:{valid:"success",message:"",ok:!0})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,R.message)),r.a.createElement("div",{className:"form-control ".concat(G.valid)},r.a.createElement("label",{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638"),r.a.createElement("input",{id:"password",type:"password",value:T,onChange:function(e){var t=e.target.value.trim();A(t),""===t?X({valid:"error",message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",ok:!1}):/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(t)?X({valid:"success",message:"",ok:!0}):X({valid:"error",message:"\uc601\uc5b4 \ub300\xb7\uc18c\ubb38\uc790\uc640 \uc22b\uc790 \ud3ec\ud568\ud558\uace0 8\uae00\uc790 \uc774\uc0c1\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4",ok:!1})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,G.message)),r.a.createElement("div",{className:"form-control ".concat(Y.valid)},r.a.createElement("label",{htmlFor:"confirm"},"\ube44\ubc00\ubc88\ud638 \ud655\uc778"),r.a.createElement("input",{id:"confirm",type:"password",value:q,onChange:function(e){var t=e.target.value.trim();H(t),Z(""===t?{valid:"error",message:"\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc744 \uc785\ub825\ud558\uc138\uc694",ok:!1}:T!==t?{valid:"error",message:"\ube44\ubc00\ubc88\ud638\ub97c \ub3d9\uc77c\ud558\uac8c \uc785\ub825\ud558\uc138\uc694",ok:!1}:{valid:"success",message:"",ok:!0})}}),r.a.createElement(fe.a,{className:"icon icon-suc"}),r.a.createElement(de.a,{className:"icon icon-err"}),r.a.createElement("small",null,Y.message)),r.a.createElement("input",{type:"submit",value:"\uac00\uc785\ud558\uae30",className:"submit-btn"})))},Be=function(){var e=Object(Ue.g)().uuid,t=Object(i.b)(),a=Object(i.c)((function(e){return e.user.userId})),c=Object(n.useState)(),s=Object(m.a)(c,2),l=s[0],f=s[1],d=Object(n.useState)([]),b=Object(m.a)(d,2),v=b[0],E=b[1];return Object(n.useEffect)((function(){function a(){return(a=Object(o.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t(L(e));case 3:n=a.sent,f(n.payload.post),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(p(a.t0.response));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e,t]),r.a.createElement("div",{className:"body-wrapper"},l&&r.a.createElement("section",{className:"a-post"},r.a.createElement("div",{className:"a-post-header"},r.a.createElement("div",{className:"user"},r.a.createElement(G.b,{to:"/username/".concat(l.user.username)},l.user.username)),a===l.user._id&&r.a.createElement("div",{className:"delete"},r.a.createElement(ue,{uuid:e}))),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:l.url,alt:"".concat(l.user.username,"\uc758 \ud3ec\uc2a4\ud305")})),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,l.content)),r.a.createElement(ne,{likes:l.likes,uuid:l.uuid}),v&&r.a.createElement(Z,{uuid:e,comments:v,setComments:E}),r.a.createElement(K,{uuid:e,comments:v,setComments:E})))},Me=function(e){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2020 Cha Haneul. All rights reserved."),r.a.createElement("address",null,"\ubb38\uc758\uc0ac\ud56d\uc740 tjaneul@gmail.com\ub85c \ubcf4\ub0b4\uc8fc\uc138\uc694."))},Ge=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"\uc798\ubabb\ub41c \uacbd\ub85c\ub85c \ub4e4\uc5b4\uc624\uc168\ub124\uc694. \uc5b4\uc11c \ub3cc\uc544\uac00\uc8fc\uc138\uc694."))},Xe=function(e){var t=Object(i.c)((function(e){return{loggedIn:e.user.loggedIn,username:e.user.username}})),a=t.loggedIn,c=t.username,s=Object(n.useState)(!1),l=Object(m.a)(s,2),f=l[0],d=l[1],b=e.history,v=Object(i.b)(),E=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(h());case 3:alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),b.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(p(e.t0.response));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){e.preventDefault(),d(!f)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(G.b,{to:"/"},r.a.createElement("h1",{className:"logo"},"galpi")),r.a.createElement("svg",{height:"40px",id:"menu-btn",className:"open",viewBox:"0 0 32 32",onClick:g},r.a.createElement("path",{fill:"#db2b39",d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"})),r.a.createElement("nav",{id:"nav",className:f?"open-nav":void 0},r.a.createElement("svg",{viewBox:"0 0 24 24",id:"exit-btn",className:"exit",onClick:g},r.a.createElement("path",{id:"exit",fill:"#db2b39",d:"M14.8,12l3.6-3.6c0.8-0.8,0.8-2,0-2.8c-0.8-0.8-2-0.8-2.8,0L12,9.2L8.4,5.6c-0.8-0.8-2-0.8-2.8,0   c-0.8,0.8-0.8,2,0,2.8L9.2,12l-3.6,3.6c-0.8,0.8-0.8,2,0,2.8C6,18.8,6.5,19,7,19s1-0.2,1.4-0.6l3.6-3.6l3.6,3.6   C16,18.8,16.5,19,17,19s1-0.2,1.4-0.6c0.8-0.8,0.8-2,0-2.8L14.8,12z"})),a?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(G.c,{exact:!0,to:"/"},"\uba54\uc778")),r.a.createElement("li",null,r.a.createElement(G.c,{to:"/post"},"\uac08\ud53c \ub0a8\uae30\uae30")),r.a.createElement("li",{className:"sub"},r.a.createElement(G.c,{to:"/user/".concat(c),className:"nav-username"},c),r.a.createElement("div",{className:"submenu"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(G.c,{to:"/dashboard"},"\ub300\uc2dc\ubcf4\ub4dc")),r.a.createElement("li",{onClick:E},r.a.createElement("span",null,"\ub85c\uadf8\uc544\uc6c3")))))):r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(G.c,{exact:!0,to:"/"},"\uba54\uc778")),r.a.createElement("li",null,r.a.createElement(G.c,{to:"/login"},"\ub85c\uadf8\uc778")),r.a.createElement("li",null,r.a.createElement(G.c,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"))))),e.children)},Pe=a(94),Ve=function(e){var t=e.component,a=Object(Pe.a)(e,["component"]),n=Object(i.c)((function(e){return{loggedIn:e.user.loggedIn}})).loggedIn;return r.a.createElement(Ue.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(Ue.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},qe=function(e){var t=e.component,a=Object(Pe.a)(e,["component"]),n=Object(i.c)((function(e){return{loggedIn:e.user.loggedIn}})).loggedIn;return r.a.createElement(Ue.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(Ue.a,{to:{pathname:"/home",state:{from:e.location}}}):r.a.createElement(t,e)}}))},He=a(190),Je=a(191),Ke=a(198),Ye=a(196),Ze=document.getElementById("modal"),$e=function(e){Object(Ke.a)(a,e);var t=Object(Ye.a)(a);function a(e){var n;return Object(He.a)(this,a),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(Je.a)(a,[{key:"componentDidMount",value:function(){Ze.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){Ze.removeChild(this.el)}},{key:"render",value:function(){return s.a.createPortal(this.props.children,this.el)}}]),a}(n.Component),Qe=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.error.name})),n=Object(i.c)((function(e){return e.error.message})),c=Object(i.c)((function(e){return e.error.isOpen}));return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement($e,null,r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"error-message"},r.a.createElement("h1",null,a),r.a.createElement("p",null,n),r.a.createElement("button",{onClick:function(e){t({type:"error_hide"})},className:"submit-btn"},"\ud655\uc778")))))},We=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){(function(){var t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("initial auth"),t.prev=1,t.next=4,e(w());case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(p(t.t0.response));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(Xe,null,r.a.createElement("section",{className:"body-container"},r.a.createElement(Ue.d,null,r.a.createElement(qe,{exact:!0,path:"/",component:me}),r.a.createElement(qe,{path:"/login",component:be}),r.a.createElement(qe,{path:"/register",component:Ae}),r.a.createElement(Ve,{path:"/dashboard",component:C}),r.a.createElement(Ve,{path:"/home",component:ie}),r.a.createElement(Ve,{path:"/post",component:ze}),r.a.createElement(Ue.b,{path:"/user/:username",children:r.a.createElement(Te,null)}),r.a.createElement(Ue.b,{path:"/p/:uuid",children:r.a.createElement(Be,null)}),r.a.createElement(Ue.b,{component:Ge}))))),r.a.createElement(Me,null),r.a.createElement(Qe,null))},et=a(49),tt=a(10),at={name:null,status:null,message:null,isOpen:!1},nt=Object(et.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(tt.a)(Object(tt.a)({},e),{},{getRegisterSuccess:t.payload.message});case"login_user":return Object(tt.a)(Object(tt.a)({},e),{},{loggedIn:!0,userId:t.payload.user._id,username:t.payload.user.username});case"logout_user":return Object(tt.a)(Object(tt.a)({},e),{},{loggedIn:!1,userId:{},username:{}});case"get_user":return Object(tt.a)(Object(tt.a)({},e),{},{getUserSuccess:t.payload.message});case"get_dashboard":return Object(tt.a)(Object(tt.a)({},e),{},{getDashboardSuccess:t.payload.message});case"auth":return Object(tt.a)(Object(tt.a)({},e),{},{loggedIn:t.payload.isAuth,userId:t.payload.user._id,username:t.payload.user.username});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"img_post":return Object(tt.a)(Object(tt.a)({},e),{},{imgurl:t.payload.url});case"content_post":return Object(tt.a)(Object(tt.a)({},e),{},{postUploadSuccess:t.payload.message});case"get_a_post":return Object(tt.a)(Object(tt.a)({},e),{},{postGetSuccess:t.payload.message});case"get_posts":return Object(tt.a)(Object(tt.a)({},e),{},{postsGetSuccess:t.payload.message});case"delete_post":return Object(tt.a)(Object(tt.a)({},e),{},{postDelSuccess:t.payload.message});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_comment":return Object(tt.a)(Object(tt.a)({},e),{},{getCommentSuccess:t.payload.message});case"post_comment":return Object(tt.a)(Object(tt.a)({},e),{},{postCommentSuccess:t.payload.message});case"delete_comment":return Object(tt.a)(Object(tt.a)({},e),{},{deleteComomentSuccess:t.payload.message});default:return e}},like:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"post_like":return Object(tt.a)(Object(tt.a)({},e),{},{getLikeSuccess:t.payload.message});case"post_unlike":return Object(tt.a)(Object(tt.a)({},e),{},{postUnlikeSuccess:t.payload.message});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,a=t.error;switch(t.type){case"error_handle":return{name:a.statusText||null,status:a.status,message:a.data.message,isOpen:!0};case"error_hide":return{name:null,status:null,message:null,isOpen:!1};default:return e}}}),rt=a(192),ct=a.n(rt),st=a(193),lt=Object(et.a)(ct.a,st.a)(et.d)(nt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(r.a.createElement(i.a,{store:lt},r.a.createElement(r.a.StrictMode,null,r.a.createElement(We,null))),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.b1217345.chunk.js.map